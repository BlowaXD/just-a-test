# darewise-test
Darewise test, feedback API


## Architecture

This is an example architecture of what I would have done

Feedback API publishing message to a broker (Google PubSub, RabbitMQ...)

It would then go to several subscribers, for example, could be nice to have notification for bug reports on a discord channel through webhooks

It could be nice to have a KPI dashboard from the data generated by feedback 
![](docs/diagram.png)


## Implementation
- [OpenAPI Spec](docs/openapi.json) generated from Swashbuckle
- [Postman Collection](docs/Feedback.postman_collection.json) Generated from OpenAPI Specs & tweaked for ease of use

## Getting started
Start PostgreSQL
```shell
docker run -p 5432:5432 --name feedback-api-database -e POSTGRES_PASSWORD=strong_pass2018 --restart always -d postgres:13
```

Start API
Upload files (it will get to your file system locally because of [what is not working](#what-is-not-working))

## Tools/Packages used

- .NET 6 / C#
- EFCore.NpgSQL - SQL ORM with NoSQL columns capabilities
- MapsterMapper - Object Mapping to avoid manual mapping, just sugar syntax with negligible performance impact
- Moq - Mocking library
- NFluent - Fluent assertion library
- NBuilder - Fluent Fake Object creation library


## What is not working
- GCP related stuff (GCS is not plugged because I don't have GCP account unless I put my credit card there)


## Nice to have

I would have added these things if I had more time:
- [Integration Tests](https://www.npmjs.com/package/newman) Postman collection with CLI based integration test
- [CloudEvents](https://cloudevents.io/) CloudEvents specification should be implemented for inter services messages (broker)
- [Prometheus](https://prometheus.io/) metrics for software monitoring (qps, bytes uploaded count...)
- [Grafana](https://grafana.com) Dashboard for software metrics visualization & alerting (+ alert manager)
- [Sentry](https://sentry.io) Sentry to group up all software exceptions & faster fixing
- [Superset](http://superset.apache.org/) dashboard with user related KPIs
